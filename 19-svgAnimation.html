<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="./index.css" />
        <title>Document</title>
    </head>
    <style>
        .main {
            width: 100%;
            height: 100vh;
        }
        .svg {
            width: 100%;
            height: 100%;
        }
        .path-line {
            animation-timing-function: linear;
            animation-fill-mode: forwards;
            animation-name: pathLine;
        }

        @keyframes pathLine {
            to {
                stroke-dashoffset: 0;
            }
        }
    </style>
    <body>
        <div class="main">
            <svg
                width="42"
                height="55"
                viewBox="0 0 42 55"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                class="svg"
            >
                <path d="M21 55V0" class="path-line" stroke="#008646" />
                <path d="M21 50L41 30" class="path-line" stroke="#008646" />
                <path d="M21 50L1 30" class="path-line" stroke="#008646" />
                <path d="M21 40L38.5 22.5" class="path-line" stroke="#008646" />
                <path d="M21.5 40.5L4 23" class="path-line" stroke="#008646" />
                <path d="M21 30L36 15" class="path-line" stroke="#008646" />
                <path d="M21 30L6 15" class="path-line" stroke="#008646" />
                <path d="M21 20L31 10" class="path-line" stroke="#008646" />
                <path d="M21 20L11 10" class="path-line" stroke="#008646" />
                <path d="M21 10.25L26 5" class="path-line" stroke="#008646" />
                <path d="M21.25 10L16 5" class="path-line" stroke="#008646" />
            </svg>
        </div>
        <script>
            let len = 0;
            let speed = 5;
            let delay = 0;
            let i = 0;

            const paths = document.querySelectorAll('.path-line');

            paths.forEach((element) => {
                let elementLen = element.getTotalLength();
                len += elementLen;
            });

            paths.forEach((element) => {
                let elementLen = element.getTotalLength();
                let duration = (elementLen / len) * speed;

                element.style.animationDuration = `${duration}s`;
                element.style.animationDelay = `${delay}s`;

                element.setAttribute('stroke-dasharray', elementLen);
                element.setAttribute('stroke-dashoffset', elementLen);
                console.log(element);
                if (i % 2 == 0) {
                    delay += duration + 0.1;
                }
                i++;
            });
        </script>
    </body>
</html>
